<!DOCTYPE html>
<html lang="hu">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Masuru Candle ‚Äì K√©zzel k√©sz√≠tett pr√©mium gyerty√°k</title>
    <meta name="description" content="Egyedi, k√©zzel √∂nt√∂tt gyerty√°k szeretettel. Spiritu√°lis √©s dekorat√≠v gyerty√°k minden alkalomra.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;500;600;700&family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --purple-dark: #2D1B3D;
            --purple-mid: #4A2C5A;
            --purple-light: #6B3D7A;
            --copper: #C4956A;
            --copper-light: #D4A574;
            --copper-dark: #A67B4F;
            --cream: #FAF8F5;
            --cream-dark: #F0EBE3;
            --text-dark: #1A1A1A;
            --text-light: #6B6B6B;
            --text-muted: #999;
            --shadow-sm: 0 2px 8px rgba(0,0,0,0.08);
            --shadow-md: 0 4px 20px rgba(0,0,0,0.12);
            --radius-sm: 8px;
            --radius-md: 12px;
            --radius-lg: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--cream);
            color: var(--text-dark);
            line-height: 1.6;
        }

        h1, h2, h3, h4 {
            font-family: 'Cormorant Garamond', serif;
            font-weight: 600;
            line-height: 1.2;
        }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            z-index: 1000;
            background: rgba(250, 248, 245, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .header-inner {
            max-width: 1200px;
            margin: 0 auto;
            padding: 12px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo-img {
            height: 50px;
            width: auto;
        }

        .nav-desktop {
            display: flex;
            gap: 32px;
        }

        .nav-desktop a {
            text-decoration: none;
            color: var(--text-dark);
            font-size: 0.9rem;
            font-weight: 500;
            transition: color 0.2s;
        }

        .nav-desktop a:hover {
            color: var(--copper);
        }

        .btn-cart {
            position: relative;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            font-size: 1.3rem;
        }

        .cart-count {
            position: absolute;
            top: 0;
            right: 0;
            background: var(--copper);
            color: white;
            font-size: 0.65rem;
            font-weight: 600;
            width: 18px;
            height: 18px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transform: scale(0);
            transition: all 0.3s;
        }

        .cart-count.visible {
            opacity: 1;
            transform: scale(1);
        }

        /* Hero */
        .hero {
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            background: linear-gradient(135deg, var(--purple-dark) 0%, #1a1025 50%, var(--purple-mid) 100%);
            padding: 100px 20px 60px;
            text-align: center;
        }

        .hero-content {
            max-width: 700px;
        }

        .hero-logo {
            max-width: 500px;
            width: 80%;
            height: auto;
            margin-bottom: 40px;
        }

        .hero-badge {
            display: inline-block;
            background: rgba(255,255,255,0.1);
            color: var(--copper-light);
            padding: 8px 20px;
            border-radius: 30px;
            font-size: 0.75rem;
            font-weight: 500;
            letter-spacing: 2px;
            text-transform: uppercase;
            margin-bottom: 24px;
            border: 1px solid rgba(255,255,255,0.1);
        }

        .hero h1 {
            font-size: clamp(2.5rem, 8vw, 4rem);
            color: var(--cream);
            margin-bottom: 20px;
        }

        .hero p {
            color: rgba(255,255,255,0.7);
            font-size: 1.1rem;
            margin-bottom: 36px;
        }

        .btn-primary {
            display: inline-flex;
            align-items: center;
            gap: 10px;
            background: var(--copper);
            color: white;
            border: none;
            padding: 16px 36px;
            border-radius: 50px;
            font-size: 0.95rem;
            font-weight: 500;
            cursor: pointer;
            text-decoration: none;
            transition: all 0.3s;
        }

        .btn-primary:hover {
            background: var(--copper-dark);
            transform: translateY(-2px);
        }

        /* Section */
        .section {
            padding: 80px 20px;
        }

        .section-header {
            text-align: center;
            margin-bottom: 50px;
        }

        .section-header h2 {
            font-size: clamp(1.8rem, 5vw, 2.5rem);
            color: var(--purple-dark);
            margin-bottom: 16px;
        }

        .section-header p {
            color: var(--text-light);
            max-width: 500px;
            margin: 0 auto;
        }

        /* About Section - FIRST */
        .about-section {
            background: var(--purple-dark);
            color: var(--cream);
        }

        .about-content {
            max-width: 1000px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr;
            gap: 40px;
            align-items: start;
        }

        @media (min-width: 768px) {
            .about-content {
                grid-template-columns: 300px 1fr;
            }
        }

        .about-photo {
            text-align: center;
        }

        .about-photo img {
            width: 280px;
            height: auto;
            object-fit: cover;
            border-radius: 20px;
            border: 4px solid var(--copper);
        }

        .about-text h2 {
            color: var(--cream);
            margin-bottom: 20px;
        }

        .about-text .intro {
            font-style: italic;
            color: var(--copper-light);
            margin-bottom: 20px;
            font-size: 1.1rem;
        }

        .about-text p {
            color: rgba(255,255,255,0.8);
            margin-bottom: 16px;
            line-height: 1.8;
        }

        /* Products Section - SECOND */
        .products-section {
            background: var(--cream);
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }

        @media (min-width: 768px) {
            .products-grid {
                grid-template-columns: repeat(4, 1fr);
            }
        }

        .product-card {
            background: white;
            border-radius: var(--radius-lg);
            overflow: hidden;
            box-shadow: var(--shadow-sm);
            cursor: pointer;
            transition: all 0.3s;
        }

        .product-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-md);
        }

        .product-image {
            position: relative;
            aspect-ratio: 1;
            overflow: hidden;
        }

        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-badge {
            position: absolute;
            top: 12px;
            left: 12px;
            background: var(--copper);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.7rem;
            font-weight: 600;
        }

        .product-info {
            padding: 16px;
        }

        .product-name {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            color: var(--purple-dark);
            margin-bottom: 6px;
        }

        .product-desc {
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .product-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .product-price {
            font-weight: 600;
            color: var(--copper-dark);
        }

        .btn-add {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border: none;
            background: var(--purple-dark);
            color: white;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.2s;
        }

        .btn-add:hover {
            background: var(--purple-mid);
        }

        /* Contact */
        .contact-section {
            background: var(--cream-dark);
            text-align: center;
        }

        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 16px;
            align-items: center;
        }

        .contact-info a {
            color: var(--purple-dark);
            text-decoration: none;
            font-size: 1.1rem;
        }

        /* Footer */
        .footer {
            background: var(--purple-dark);
            color: var(--cream);
            padding: 40px 20px;
            text-align: center;
        }

        .footer img {
            height: 80px;
            margin-bottom: 20px;
            filter: brightness(0) invert(1);
        }

        .footer p {
            color: rgba(255,255,255,0.6);
            font-size: 0.85rem;
        }

        /* Cart Sidebar */
        .cart-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            z-index: 2000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s;
        }

        .cart-overlay.open {
            opacity: 1;
            visibility: visible;
        }

        .cart-sidebar {
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            width: 100%;
            max-width: 400px;
            background: var(--cream);
            z-index: 2001;
            transform: translateX(100%);
            transition: transform 0.3s;
            display: flex;
            flex-direction: column;
        }

        .cart-sidebar.open {
            transform: translateX(0);
        }

        .cart-header {
            padding: 20px;
            border-bottom: 1px solid rgba(0,0,0,0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-header h3 {
            font-size: 1.3rem;
            color: var(--purple-dark);
        }

        .cart-close {
            background: none;
            border: none;
            font-size: 1.5rem;
            cursor: pointer;
            color: var(--text-light);
        }

        .cart-items {
            flex: 1;
            overflow-y: auto;
            padding: 20px;
        }

        .cart-empty {
            text-align: center;
            padding: 40px;
            color: var(--text-muted);
        }

        .cart-item {
            display: flex;
            gap: 12px;
            padding: 12px 0;
            border-bottom: 1px solid rgba(0,0,0,0.05);
        }

        .cart-item-image {
            width: 60px;
            height: 60px;
            border-radius: 8px;
            overflow: hidden;
        }

        .cart-item-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .cart-item-details {
            flex: 1;
        }

        .cart-item-name {
            font-weight: 500;
            margin-bottom: 4px;
        }

        .cart-item-price {
            color: var(--copper-dark);
            font-size: 0.9rem;
        }

        .cart-item-qty {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 8px;
        }

        .qty-btn {
            width: 24px;
            height: 24px;
            border: 1px solid var(--text-muted);
            background: white;
            border-radius: 4px;
            cursor: pointer;
        }

        .cart-item-remove {
            background: none;
            border: none;
            color: var(--text-muted);
            cursor: pointer;
            font-size: 1.2rem;
        }

        .cart-footer {
            padding: 20px;
            border-top: 1px solid rgba(0,0,0,0.1);
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 16px;
        }

        .btn-checkout {
            width: 100%;
            background: var(--purple-dark);
            color: white;
            border: none;
            padding: 16px;
            border-radius: var(--radius-md);
            font-size: 1rem;
            font-weight: 500;
            cursor: pointer;
        }

        /* Toast */
        .toast {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background: var(--purple-dark);
            color: white;
            padding: 16px 24px;
            border-radius: var(--radius-md);
            font-size: 0.9rem;
            z-index: 5000;
            opacity: 0;
            transition: all 0.3s;
        }

        .toast.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* Mobile menu button */
        .btn-menu {
            display: none;
            background: none;
            border: none;
            cursor: pointer;
            padding: 8px;
            flex-direction: column;
            gap: 5px;
        }

        .btn-menu span {
            display: block;
            width: 22px;
            height: 2px;
            background: var(--purple-dark);
        }

        @media (max-width: 767px) {
            .nav-desktop {
                display: none;
            }
            .btn-menu {
                display: flex;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-inner">
            <a href="#">
                <img src="images/Masuru_logo.png" alt="Masuru" class="logo-img">
            </a>
            
            <nav class="nav-desktop">
                <a href="#about">R√≥lunk</a>
                <a href="#products">Gyerty√°k</a>
                <a href="#contact">Kapcsolat</a>
            </nav>
            
            <div style="display: flex; align-items: center; gap: 16px;">
                <button class="btn-cart" onclick="openCart()">
                    üõí
                    <span class="cart-count" id="cartCount">0</span>
                </button>
                <button class="btn-menu" onclick="openMobileMenu()">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <!-- Hero -->
    <section class="hero">
        <div class="hero-content">
            <img src="images/Masuru_logo.png" alt="Masuru" class="hero-logo">
            <span class="hero-badge">‚ú® K√©zzel k√©sz√≠tve, szeretettel</span>
            <h1>F√©ny. Illat. Nyugalom.</h1>
            <p>Egyedi, k√©zzel √∂nt√∂tt gyerty√°k, amelyek otthonoss√° √©s k√ºl√∂nlegess√© var√°zsolj√°k a mindennapokat.</p>
            <a href="#products" class="btn-primary">
                Fedezd fel a kollekci√≥t
                <span>‚Üí</span>
            </a>
        </div>
    </section>

    <!-- About Section - FIRST -->
    <section class="section about-section" id="about">
        <div class="about-content">
            <div class="about-photo">
                <img src="images/timi.jpg" alt="Szanyi Timi - Masuru Candle alap√≠t√≥">
            </div>
            <div class="about-text">
                <h2>A Masuru t√∂rt√©nete</h2>
                <p class="intro">Szia, Timi vagyok.</p>
                <p>A Masuru Candle m√∂g√∂tt az a v√°gy √°ll, hogy olyan t√°rgyak sz√ºlessenek, amelyek nemcsak sz√©pek, hanem √©rz√©st is hordoznak.</p>
                <p>Mindig is k√ºl√∂n√∂sen k√∂zel √°lltak hozz√°m az illatok, a form√°k √©s az apr√≥ r√©szletek. Dolgoztam cukr√°szk√©nt is ‚Äì √©s b√°r szerettem az √≠zek vil√°g√°t, igaz√°n a tort√°k √©s s√ºtem√©nyek megjelen√©se vonzott: a sz√≠nek harm√≥ni√°ja, a d√≠sz√≠t√©s finoms√°ga, az a pillanat, amikor egy alkot√°s ‚Äû√©letre kel".</p>
                <p>K√©s≈ëbb patik√°ban is dolgoztam, ahol √∫jra r√°tal√°ltam arra, amit igaz√°n szeretek: a kever√©st, az alkot√°st, a kotyvaszt√°s csendes, koncentr√°lt √∂r√∂m√©t. Ott is mindig az a r√©sz √©rdekelt legink√°bb, ahol az √∂sszetev≈ëkb≈ël valami √∫j sz√ºletik.</p>
                <p>A spiritualit√°s r√©g√≥ta r√©sze az √©letemnek ‚Äì nem hangosan, nem l√°tv√°nyosan, ink√°bb bel√ºl. Tal√°n ez√©rt is h√≠vnak t√∂bben mosolyogva ‚Äûboszinak". Szeretem ezt a sz√≥t, mert sz√°momra az intu√≠ci√≥t, az √©rz√©kenys√©get √©s az odafigyel√©st jelenti.</p>
                <p>A Masuru gyerty√°k k√©zzel k√©sz√ºlnek, nyugalomban, figyelemmel. Minden darab egy kis bels≈ë t≈±z: egy pillanat csend, egy l√©legzetnyi f√©ny, egy illat, ami eml√©keztet arra, hogy j√≥ meg√°llni.</p>
                <p>Ha egy Masuru gyerty√°t meggy√∫jtasz, rem√©lem, te is √©rzed majd azt, amit √©n k√©sz√≠t√©s k√∂zben: a melegs√©get, az egyens√∫lyt √©s azt a finom, l√°thatatlan var√°zst, ami akkor sz√ºletik, amikor a k√©z √©s a l√©lek egy√ºtt dolgozik.</p>
                <p class="intro" style="margin-top: 24px;">‚Äî Szanyi Timi</p>
            </div>
        </div>
    </section>

    <!-- Products Section - SECOND -->
    <section class="section products-section" id="products">
        <div class="section-header">
            <h2>Gyerty√°ink</h2>
            <p>Minden darab egyedi, k√©zzel k√©sz√ºlt sz√≥javiaszb√≥l</p>
        </div>
        <div class="products-grid" id="productsGrid">
            <!-- Products loaded by JS -->
        </div>
    </section>

    <!-- Contact -->
    <section class="section contact-section" id="contact">
        <div class="section-header">
            <h2>Kapcsolat</h2>
            <p>K√©rd√©sed van? √çrj b√°tran!</p>
        </div>
        <div class="contact-info">
            <a href="mailto:hello@masuru.hu">üìß hello@masuru.hu</a>
            <a href="https://instagram.com/masuru.candle" target="_blank">üì± @masuru.candle</a>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <img src="images/Masuru_logo.png" alt="Masuru">
        <p>¬© 2024 Masuru Candle. Minden jog fenntartva.</p>
    </footer>

    <!-- Cart Overlay -->
    <div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
    
    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3>Kos√°r</h3>
            <button class="cart-close" onclick="closeCart()">√ó</button>
        </div>
        <div class="cart-items" id="cartItems">
            <div class="cart-empty">
                <p>üõí A kosarad √ºres</p>
            </div>
        </div>
        <div class="cart-footer" id="cartFooter" style="display: none;">
            <div class="cart-total">
                <span>√ñsszesen:</span>
                <span id="cartTotal">0 Ft</span>
            </div>
            <button class="btn-checkout" onclick="checkout()">Megrendel√©s</button>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast">
        <span id="toastMessage">Hozz√°adva a kos√°rhoz!</span>
    </div>

    <script>
        // Default products (fallback ha nincs localStorage)
        const defaultProducts = [
            {
                id: 1,
                name: "Kar√°csonyi √Ålom",
                desc: "T√©li var√°zslat havas feny≈ëf√°kkal √©s cukorp√°lc√°val. Fah√©jas-narancs illat.",
                price: 5900,
                image: "images/IMG_5051.jpg",
                badge: "Szezon√°lis"
            },
            {
                id: 2,
                name: "Kar√°csonyfa",
                desc: "Z√∂ld feny≈ëfa gyertya h√≥g√∂mb√∂kkel d√≠sz√≠tve. Feny≈ë illat.",
                price: 6400,
                image: "images/IMG_5052.jpg",
                badge: "Szezon√°lis"
            },
            {
                id: 3,
                name: "Halloween √âjszaka",
                desc: "K√≠s√©rteties kopony√°val √©s denev√©rrel d√≠sz√≠tve. S√ºt≈ët√∂k-f≈±szeres illat.",
                price: 5400,
                image: "images/IMG_5053.jpg",
                badge: null
            },
            {
                id: 4,
                name: "≈êszi T√∂k√∂k",
                desc: "Apr√≥ t√∂kcsk√©k, meleg ≈ëszi hangulattal. Fah√©jas-van√≠lia illat.",
                price: 4900,
                image: "images/IMG_5054.jpg",
                badge: "Kedvenc"
            },
            {
                id: 5,
                name: "≈êszi Harm√≥nia",
                desc: "T√∂kform√°j√∫ viasz melts szett term√©szetes f≈±szerekkel.",
                price: 3900,
                image: "images/IMG_5055.jpg",
                badge: null
            },
            {
                id: 6,
                name: "Tekn≈ës Kert",
                desc: "Aranyos tekn≈ës√∂k k√∂zt pozsg√°sok. Friss, z√∂ld illat.",
                price: 5900,
                image: "images/IMG_5056.jpg",
                badge: "K√ºl√∂nleges"
            },
            {
                id: 7,
                name: "Zen Kert",
                desc: "Pozsg√°sok f√©m tart√≥ban, b√©k√©s medit√°ci√≥s hangulat. Levendula illat.",
                price: 5400,
                image: "images/IMG_5057.jpg",
                badge: null
            },
            {
                id: 8,
                name: "Buddha Kert",
                desc: "Medit√°l√≥ Buddha figura arany d√≠sz√≠t√©ssel √©s pozsg√°sokkal.",
                price: 7900,
                image: "images/IMG_5058.jpg",
                badge: "Pr√©mium"
            }
        ];

        // Storage keys - SAME AS ADMIN
        const PRODUCTS_KEY = 'masuru_admin_products';
        const CART_KEY = 'masuru_cart';

        // Load products from localStorage (synced with admin)
        function getProducts() {
            try {
                const stored = localStorage.getItem(PRODUCTS_KEY);
                if (stored) {
                    const parsed = JSON.parse(stored);
                    if (Array.isArray(parsed) && parsed.length > 0) {
                        return parsed;
                    }
                }
            } catch (e) {
                console.error('Hiba:', e);
            }
            // Ha nincs vagy √ºres, mentj√ºk a defaultot
            localStorage.setItem(PRODUCTS_KEY, JSON.stringify(defaultProducts));
            return defaultProducts;
        }

        // Load cart from localStorage
        function getCart() {
            try {
                const stored = localStorage.getItem(CART_KEY);
                if (stored) {
                    return JSON.parse(stored);
                }
            } catch (e) {
                console.error('Kos√°r hiba:', e);
            }
            return [];
        }

        // Save cart to localStorage
        function saveCart() {
            localStorage.setItem(CART_KEY, JSON.stringify(cart));
        }

        // Products and cart
        let products = getProducts();
        let cart = getCart();

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            renderProducts();
            updateCartUI();
        });

        // Render products
        function renderProducts() {
            const grid = document.getElementById('productsGrid');
            if (!grid) return;
            
            // Reload products in case admin updated them
            products = getProducts();
            
            grid.innerHTML = products.map(product => `
                <div class="product-card">
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.name}" onerror="this.src='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 width=%22200%22 height=%22200%22><rect fill=%22%23f0ebe3%22 width=%22200%22 height=%22200%22/><text x=%2250%%22 y=%2250%%22 text-anchor=%22middle%22 dy=%22.3em%22 fill=%22%23999%22 font-size=%2240%22>üïØÔ∏è</text></svg>'">
                        ${product.badge ? `<span class="product-badge">${product.badge}</span>` : ''}
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${product.name}</h3>
                        <p class="product-desc">${product.desc}</p>
                        <div class="product-footer">
                            <span class="product-price">${formatPrice(product.price)}</span>
                            <button class="btn-add" onclick="addToCart(${product.id})">+</button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Format price
        function formatPrice(price) {
            return price.toLocaleString('hu-HU') + ' Ft';
        }

        // Add to cart
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.qty += 1;
            } else {
                cart.push({ ...product, qty: 1 });
            }
            
            updateCartUI();
            showToast('Hozz√°adva a kos√°rhoz!');
        }

        // Remove from cart
        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        // Update quantity
        function updateQty(productId, delta) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.qty += delta;
                if (item.qty <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                }
            }
        }

        // Update cart UI
        function updateCartUI() {
            const cartCount = document.getElementById('cartCount');
            const cartItems = document.getElementById('cartItems');
            const cartFooter = document.getElementById('cartFooter');
            const cartTotal = document.getElementById('cartTotal');
            
            const totalItems = cart.reduce((sum, item) => sum + item.qty, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            
            cartCount.textContent = totalItems;
            cartCount.classList.toggle('visible', totalItems > 0);
            
            if (cart.length === 0) {
                cartItems.innerHTML = `<div class="cart-empty"><p>üõí A kosarad √ºres</p></div>`;
                cartFooter.style.display = 'none';
            } else {
                cartItems.innerHTML = cart.map(item => `
                    <div class="cart-item">
                        <div class="cart-item-image">
                            <img src="${item.image}" alt="${item.name}">
                        </div>
                        <div class="cart-item-details">
                            <div class="cart-item-name">${item.name}</div>
                            <div class="cart-item-price">${formatPrice(item.price)}</div>
                            <div class="cart-item-qty">
                                <button class="qty-btn" onclick="updateQty(${item.id}, -1)">‚àí</button>
                                <span>${item.qty}</span>
                                <button class="qty-btn" onclick="updateQty(${item.id}, 1)">+</button>
                            </div>
                        </div>
                        <button class="cart-item-remove" onclick="removeFromCart(${item.id})">√ó</button>
                    </div>
                `).join('');
                cartFooter.style.display = 'block';
                cartTotal.textContent = formatPrice(totalPrice);
            }
            
            // Save cart to localStorage
            saveCart();
        }

        // Open/close cart
        function openCart() {
            document.getElementById('cartOverlay').classList.add('open');
            document.getElementById('cartSidebar').classList.add('open');
        }

        function closeCart() {
            document.getElementById('cartOverlay').classList.remove('open');
            document.getElementById('cartSidebar').classList.remove('open');
        }

        // Checkout
        function checkout() {
            const total = cart.reduce((sum, item) => sum + (item.price * item.qty), 0);
            const message = encodeURIComponent(
                `Szia! Szeretn√©k rendelni:\n\n${cart.map(item => 
                    `‚Ä¢ ${item.name} x${item.qty} - ${formatPrice(item.price * item.qty)}`
                ).join('\n')}\n\n√ñsszesen: ${formatPrice(total)}`
            );
            window.location.href = `mailto:hello@masuru.hu?subject=Rendel√©s - Masuru Candle&body=${message}`;
        }

        // Toast
        function showToast(message) {
            const toast = document.getElementById('toast');
            document.getElementById('toastMessage').textContent = message;
            toast.classList.add('show');
            setTimeout(() => toast.classList.remove('show'), 2500);
        }

        // Mobile menu (simple)
        function openMobileMenu() {
            alert('Men√º: R√≥lunk | Gyerty√°k | Kapcsolat');
        }
    </script>
</body>
</html>
